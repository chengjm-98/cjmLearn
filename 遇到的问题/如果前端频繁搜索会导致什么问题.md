# 前端频繁搜索会导致什么问题

1.多个接口调度并发问题 2.接口时间不可控，后发起的接口可能比前发起的接口先返回，导致数据不一致

# 解决方法

1.防抖节流 2.请求取消（AbortController / axios cancel） 3.请求版本号

```jsx
let currentRequestId = 0;

async function search(keyword) {
  const requestId = ++currentRequestId;

  const res = await fetch(`/api/search?q=${keyword}`);
  const data = await res.json();

  // 只处理最新请求
  if (requestId === currentRequestId) {
    render(data);
  } else {
    console.log("丢弃过期请求", keyword);
  }
}
```
