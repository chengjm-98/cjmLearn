<!--
 * @Author: error: error: git config user.name & please set dead value or install git && error: git config user.email & please set dead value or install git & please set dead value or install git
 * @Date: 2026-01-19 17:51:04
 * @LastEditors: error: error: git config user.name & please set dead value or install git && error: git config user.email & please set dead value or install git & please set dead value or install git
 * @LastEditTime: 2026-01-19 18:00:29
 * @FilePath: /cjmLearn/遇到的问题/电商优惠券叠加/使用工厂模式来实现一个电商优惠券叠加的问题.md
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->

# 实现思路

每种优惠券类型是一个策略类（满减、折扣、现金券、积分抵扣等）

工厂根据优惠券类型生成实例

购物车结算时，遍历所有优惠券，按顺序叠加计算最终金额

保持可扩展性：以后新增优惠券类型，只需要新增类即可

# 优惠券接口

```jsx
interface ICoupon {
  apply(amount: number): number; // 输入原价，返回扣减后的金额
  name: string; // 优惠券名字
}
```

# 策略类

```jsx
class FullReductionCoupon implements ICoupon {
  name: string;
  threshold: number;
  discount: number;

  constructor(threshold: number, discount: number) {
    this.threshold = threshold;
    this.discount = discount;
    this.name = `满${threshold}减${discount}`;
  }
```
