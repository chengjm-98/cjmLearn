<!--
 * @Author: error: error: git config user.name & please set dead value or install git && error: git config user.email & please set dead value or install git & please set dead value or install git
 * @Date: 2026-01-26 16:05:04
 * @LastEditors: error: error: git config user.name & please set dead value or install git && error: git config user.email & please set dead value or install git & please set dead value or install git
 * @LastEditTime: 2026-01-26 17:49:10
 * @FilePath: /cjmLearn/遇到的问题/前端权限问题/统一认证中心和单点登录.md
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->

# 统一认证中心和单点登录

跳转到统一认证中心，然后从认证中心分发到各个应用，带token但是不能暴露，可以加密解密

# 单点登录

```jsx
【系统接入阶段】
认证中心  ──发放──>  client_id / client_secret



浏览器
  │
  │ ① 访问后台系统A
  ▼
系统A（未登录）
  │
  │ ② 302 跳转
  ▼
统一认证中心
  │
  │ ③ 登录成功
  │    生成 code
  ▼
浏览器
  │
  │ ④ 携带 code 跳回系统A
  ▼
系统A后台
  │
  │ ⑤ 用 code 换 token（后端）
  ▼
统一认证中心
  │
  │ ⑥ 返回 token
  ▼
系统A后台（保存 token）

```

- 统一认证中心在用户登录成功后，
- 通过浏览器重定向把一次性的 code 带回系统 A；
- 系统 A 的后台服务拿到 code 后，
- 使用预先分配的 client_id + client_secret，
- 通过后端 HTTPS 接口向认证中心换取 token。

```jsx
① 浏览器参与（只能看到 code）
认证中心 ──302──> 浏览器 ──GET──> 系统A/callback?code=xxx

② 浏览器下线（绝对看不到 token）
系统A后台 ──HTTPS POST (code + client_id + client_secret)──> 认证中心
认证中心 ──token──> 系统A后台

```
