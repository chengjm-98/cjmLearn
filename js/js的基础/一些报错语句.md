# 一些用于判错的语句

## try-catch

- 捕获同步错误

```jsx
try {
  throw new Error("错误");
} catch (e) {
  //这里可以捕获到
  console.log(e);
}
```

- try-catch 捕获不到异步错误

```jsx
try {
  setTimeout(() => {
    throw new Error("error"); // ❌ 不会被 try/catch 捕获
  }, 100);
} catch (err) {
  console.log("不会执行");
}
//其他异步也不行
try {
  Promise.reject(new Error("error")); // ❌ 不会被 try/catch 捕获
} catch (err) {
  console.log("不会执行");
}
```

- 但是配合 await 可以

```jsx
  但是像这样是可以的，神奇
  async function test() {
  try {
    await Promise.reject("error");
  } catch (err) {
    console.log("捕获到：", err);
  }
  }
  - 原因：await 会暂停函数的执行，直到 promise 解决或拒绝。然后返回promise的结果。所以这里会抛出错误。
```

## throw

- 抛出错误

  - 可以在 try-catch 中使用
  - 也可以在 async 函数中使用
  - 也可以在 promise 中使用
