# é€‚é…å™¨æ¨¡å¼ï¼ˆç»“æ„ç±»è®¾è®¡æ¨¡å¼ï¼‰

è¯´äººè¯ï¼šé€‚é…å™¨æ¨¡å¼å°±æ˜¯ä½¿ä¸¤ä¸ªåŠä»¥ä¸Šä¸å…¼å®¹çš„æ¥å£èƒ½å¤Ÿåœ¨ä¸€èµ·å·¥ä½œã€‚
åœ¨ä¸ä¿®æ”¹åŸä»£ç çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡é€‚é…å™¨ç±»å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢ä¸ºå¦ä¸€ä¸ªç±»çš„æ¥å£ï¼Œä»è€Œä½¿åŸæœ¬ä¸å…¼å®¹çš„ç±»èƒ½å¤Ÿä¸€èµ·å·¥ä½œã€‚

## ä½¿ç”¨åœºæ™¯

ğŸ’¡**å½“ä½ å¸Œæœ›ä½¿ç”¨æŸä¸ªç±»ï¼Œ ä½†æ˜¯å…¶æ¥å£ä¸å…¶ä»–ä»£ç ä¸å…¼å®¹æ—¶ï¼Œ å¯ä»¥ä½¿ç”¨é€‚é…å™¨ç±»**
ğŸ”‘ï¼šé€‚é…å™¨æ¨¡å¼å…è®¸ä½ åˆ›å»ºä¸€ä¸ªä¸­é—´å±‚ç±»ï¼Œ å…¶å¯ä½œä¸ºä»£ç ä¸é—ç•™ç±»ã€ ç¬¬ä¸‰æ–¹ç±»æˆ–æä¾›æ€ªå¼‚æ¥å£çš„ç±»ä¹‹é—´çš„è½¬æ¢å™¨ã€‚
ğŸ’¡**å¦‚æœæ‚¨éœ€è¦å¤ç”¨è¿™æ ·ä¸€äº›ç±»ï¼Œ ä»–ä»¬å¤„äºåŒä¸€ä¸ªç»§æ‰¿ä½“ç³»ï¼Œ å¹¶ä¸”ä»–ä»¬åˆæœ‰äº†é¢å¤–çš„ä¸€äº›å…±åŒçš„æ–¹æ³•ï¼Œ ä½†æ˜¯è¿™äº›å…±åŒçš„æ–¹æ³•ä¸æ˜¯æ‰€æœ‰åœ¨è¿™ä¸€ç»§æ‰¿ä½“ç³»ä¸­çš„å­ç±»æ‰€å…·æœ‰çš„å…±æ€§**
ğŸ”‘ï¼šè¿™æ®µè¯çš„æ„æ€æ˜¯ï¼Œå½“ä½ æœ‰ä¸€ç»„ç±»ï¼Œè™½ç„¶å®ƒä»¬å…±äº«ä¸€ä¸ªç»§æ‰¿ä½“ç³»ï¼Œä½†æ˜¯å…¶ä¸­çš„ä¸€äº›æ–¹æ³•å¹¶ä¸æ˜¯æ‰€æœ‰ç±»éƒ½å…·å¤‡çš„å…±åŒç‰¹æ€§ã€‚å¦‚æœä½ æƒ³è¦å¤ç”¨è¿™äº›æ–¹æ³•ï¼Œé€‚é…å™¨è®¾è®¡æ¨¡å¼å¯ä»¥å¸®åŠ©ä½ è§£å†³è¿™ä¸ªé—®é¢˜ã€‚é€šè¿‡åˆ›å»ºé€‚é…å™¨ç±»ï¼Œå¯ä»¥ä¸ºé‚£äº›ç¼ºå°‘å…±åŒæ–¹æ³•çš„ç±»æä¾›æ¥å£ï¼Œä½¿å®ƒä»¬ä¹Ÿèƒ½ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œä»è€Œå®ç°ä»£ç å¤ç”¨å’Œæ‰©å±•ã€‚

## å®ç°æ–¹æ³•

éœ€è¦å®ç°ä¸€ä¸ªé€‚é…å™¨ç±»ï¼Œè¿™ä¸ªç±»å®ç°äº†ç›®æ ‡æ¥å£ï¼ˆç³»ç»Ÿéœ€è¦çš„æ¥å£æ ¼å¼ï¼‰ï¼Œå¹¶ä¸”åœ¨å†…éƒ¨æŒæœ‰ä¸€ä¸ªé€‚é…è€…å¯¹è±¡ï¼ˆç”¨æ¥å­˜å‚¨éœ€è¦é€‚é…çš„é‚£ä¸ª classï¼‰ï¼Œé€šè¿‡è°ƒç”¨é€‚é…è€…å¯¹è±¡çš„æ–¹æ³•æ¥å®ç°ç›®æ ‡æ¥å£çš„æ–¹æ³•ã€‚

## å…·ä½“å®ç°

```ts
class target {
  targetFun(): void {
    console.log("è¿™é‡Œæ˜¯ç›®æ ‡ç±»å‹çš„targetFun");
  }
}
class adaptee {
  adapteeFun(): void {
    console.log("è¿™é‡Œæ˜¯è¢«é€‚é…çš„ç±»å‹çš„adapteeFun");
  }
}
//é€‚é…å™¨ç±»
class adapter extends target {
  private adaptee: adaptee;
  constructor(adaptee: adaptee) {
    super();
    this.adaptee = adaptee;
  }
  targetFun(): void {
    this.adaptee.adapteeFun();
  }
}
//æµ‹è¯•  å®¢æˆ·ç«¯ä»£ç 
function clientCode(target: target) {
  target.targetFun();
}
//ä½¿ç”¨é€‚é…å™¨å…¼å®¹ä»¥åçš„adaptee
clientCode(new adapter(new adaptee()));
//å¦‚æœç›´æ¥ä½¿ç”¨adaptee åˆ™ä¼šæŠ¥é”™
//clientCode(new adaptee())
```

## å…·ä½“ä½¿ç”¨åœºæ™¯åŠå…¶å®ç°

ğŸŒ æ–°æ—§ç‰ˆæœ¬å…¼å®¹
ğŸŒ ç¬¬ä¸‰æ–¹åº“å…¼å®¹(ä»¥æ—¥å¿—ä¸ºä¾‹)

```ts
//ç¬¬ä¸‰æ–¹åº“
class ThirdPartyLogger {
  logMessage(level: string, message: string): void {
    console.log(`[${level}] ${message}`);
  }
}
//ç›®æ ‡æ¥å£ ï¼ˆç³»ç»Ÿéœ€è¦çš„æ ‡å‡†æ¥å£ï¼‰
interface Logger {
  logInfo(message: string): void;
  logError(message: string): void;
}

//é€‚é…å™¨ç±»
class LoggerAdapter implements Logger {
  private thirdPartyLogger: ThirdPartyLogger; //ç”¨æ¥å­˜å‚¨ç¬¬ä¸‰æ–¹åº“çš„å®ä¾‹
  constructor(thirdPartyLogger?: ThirdPartyLogger) {
    this.thirdPartyLogger = thirdPartyLogger;
  }
  logInfo(message: string): void {
    this.thirdPartyLogger.logMessage("INFO", message);
  }
  logError(message: string): void {
    this.thirdPartyLogger.logMessage("ERROR", message);
  }
}

//å®¢æˆ·ç«¯ä»£ç 
function clientCode(log: Logger) {
  console.log("å®¢æˆ·ç«¯ä»£ç å¼€å§‹æ‰§è¡Œ");
  log.logInfo("è¿™æ˜¯ä¸€æ¡ä¿¡æ¯");
  log.logError("è¿™æ˜¯ä¸€æ¡é”™è¯¯ä¿¡æ¯");
  console.log("å®¢æˆ·ç«¯ä»£ç æ‰§è¡Œå®Œæ¯•");
}
let adapter = new LoggerAdapter();
clientCode(adapter);
//å¦‚æœæ²¡æœ‰ä½¿ç”¨é€‚é…å™¨
let thirdPartyLogger = new ThirdPartyLogger();
clientCode(thirdPartyLogger); //è¿™æ ·å°±ä¼šæŠ¥é”™
```

ğŸŒ æ•°æ®è½¬æ¢ï¼ˆåŒç†ï¼‰

ğŸŒ æ¥å£é€‚é…ï¼ˆåŒç†ï¼‰
